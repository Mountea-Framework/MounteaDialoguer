import{c as M,j as e,a as Z,M as U,U as qe,B as p,X as Ve,b as Xe,L as oe,D as A,F as Ge,u as $e,r as f,T as Be,P as I,e as He,f as Je,I as Ke,g as Qe,h as es,i as ss,R as Oe}from"./index-C_2ZHYJu.js";import{u as C,b as we,L as w,I as P,a as _e}from"./label-ZJnYtPtm.js";import{D as Y,a as X,b as G,c as F,d as ts,C as as,e as rs,f as is,u as K,g as de,M as ns,S as Me}from"./confetti-B6JnPpu8.js";import{useCategoryStore as T}from"./categoryStore-BMC-QPTa.js";import{C as k,a as D,c as Le,b as ye,d as ne,e as le,g as ce}from"./card-CkcYvxNQ.js";import{j as Q,D as q,a as V,b as $,c as B,d as H,e as J,S as ee,f as se,i as te,g as ae,h as L}from"./deviceDetection-B_Qf1Bpl.js";import{T as R,A as me,a as xe,b as he,c as ue,d as pe,e as ge,f as je,g as fe,h as ls,S as cs,M as os}from"./alert-dialog-C_rh_z4Y.js";import{C as ds,E as ms}from"./empty-state-Cdi0xGiA.js";import{S as Te}from"./separator-BKbkW7Be.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=M("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=M("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=M("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=M("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=M("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=M("Paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=M("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=M("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),ps={variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600"}};function Ce({className:s,variant:l="default",...a}){return e.jsx("div",{className:Z("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",ps.variant[l],s),...a})}function gs({activeSection:s,onSectionChange:l,project:a,dialogueCount:r=0,participantCount:c=0,isMobileOpen:g=!1,onMobileClose:N}){const{t:d}=C(),x=[{id:"overview",label:d("navigation.dashboard"),icon:hs,color:"text-blue-500"},{id:"dialogues",label:d("dialogues.title"),icon:U,color:"text-blue-500",count:r},{id:"participants",label:d("participants.title"),icon:qe,color:"text-purple-500",count:c},{id:"categories",label:d("categories.title"),icon:Re,color:"text-orange-500"},{id:"decorators",label:d("decorators.title"),icon:us,color:"text-green-500"}];return e.jsxs("aside",{className:Z("flex-shrink-0 bg-card border-r border-border flex flex-col transition-transform duration-300 ease-in-out","fixed inset-y-0 left-0 z-50 h-full w-64","lg:static lg:z-0 lg:translate-x-0","lg:w-80","lg:h-screen",g?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:[e.jsx("div",{className:"lg:hidden flex justify-end p-4",children:e.jsx(p,{variant:"ghost",size:"icon",onClick:N,className:"rounded-full",children:e.jsx(Ve,{className:"h-5 w-5"})})}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/10 dark:to-indigo-900/10 border border-blue-100 dark:border-blue-900/30 flex flex-col items-center text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center text-white shadow-md mb-2",children:e.jsx(Re,{className:"h-6 w-6"})}),e.jsx("h3",{className:"font-bold text-sm line-clamp-1",children:a==null?void 0:a.name}),(a==null?void 0:a.version)&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["v",a.version]})]})}),e.jsx("nav",{className:"flex-1 px-3 py-2 space-y-1 overflow-y-auto",children:x.map(n=>{const u=n.icon,i=s===n.id;return e.jsxs("button",{onClick:()=>l(n.id),className:Z("w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors",i?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-accent hover:text-foreground"),children:[e.jsx(u,{className:Z("h-5 w-5",i&&n.color)}),e.jsx("span",{className:"flex-1 text-left",children:n.label}),n.count!==void 0&&e.jsx("span",{className:"text-[10px] bg-muted px-1.5 py-0.5 rounded-md",children:n.count})]},n.id)})}),e.jsx("div",{className:"p-4 border-t border-border",children:e.jsxs("button",{onClick:()=>l("settings"),className:Z("w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors",s==="settings"?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-accent hover:text-foreground"),children:[e.jsx(Xe,{className:"h-5 w-5"}),e.jsx("span",{children:d("navigation.settings")})]})})]})}function js({project:s,dialogues:l=[],participants:a=[],categories:r=[],decorators:c=[],onExport:g,onImport:N,onDelete:d,onSectionChange:x,fileInputRef:n,isImporting:u=!1}){const{t:i}=C(),j=Q(),o=l.reduce((m,t)=>m+(t.nodeCount||0),0),v=[...l].sort((m,t)=>new Date(t.modifiedAt)-new Date(m.modifiedAt)).slice(0,5);return e.jsxs("div",{children:[e.jsxs("div",{className:`flex items-center gap-2 text-xs font-medium text-muted-foreground mb-4 ${j?"hidden":""}`,children:[e.jsx(oe,{to:"/",className:"hover:text-primary cursor-pointer",children:i("projects.title")}),e.jsx(Ue,{className:"h-3 w-3"}),e.jsx("span",{className:"text-foreground",children:s.name})]}),e.jsxs("div",{className:"flex items-start justify-between mb-10",children:[e.jsxs("div",{className:"group flex-1",children:[e.jsx("label",{className:"block text-xs font-bold text-muted-foreground uppercase tracking-wider mb-1",children:i("projects.projectName")}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-xl md:text-4xl font-bold tracking-tight",children:s.name}),s.version&&e.jsxs(Ce,{variant:"success",children:["v",s.version]}),e.jsx("button",{onClick:()=>x==null?void 0:x("settings"),className:"opacity-0 group-hover:opacity-100 p-1.5 rounded-full hover:bg-accent text-muted-foreground hover:text-primary transition-all",title:"Project Settings",children:e.jsx(W,{className:"h-5 w-5"})})]}),s.description&&e.jsx("p",{className:"mt-3 text-lg text-muted-foreground leading-relaxed max-w-2xl",children:s.description})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:n,type:"file",accept:".mnteadlgproj",onChange:N,className:"hidden"}),e.jsx("div",{className:"md:hidden",children:e.jsxs(Y,{className:!0,children:[e.jsx(X,{asChild:!0,children:e.jsx(p,{variant:"outline",size:"icon",className:"rounded-full",children:e.jsx(re,{className:"h-4 w-4"})})}),e.jsxs(G,{align:"end",children:[e.jsxs(F,{onClick:()=>{var m;return(m=n==null?void 0:n.current)==null?void 0:m.click()},disabled:u,children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),i("common.import")]}),e.jsxs(F,{onClick:g,children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),i("common.export")]}),e.jsx(ts,{}),e.jsxs(F,{onClick:d,className:"text-destructive focus:text-destructive",children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),i("common.delete")]})]})]})}),e.jsxs("div",{className:"hidden md:flex gap-2",children:[e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>{var m;return(m=n==null?void 0:n.current)==null?void 0:m.click()},disabled:u,className:"gap-2",children:[e.jsx(z,{className:"h-4 w-4"}),i("common.import")]}),e.jsxs(p,{variant:"outline",size:"sm",onClick:g,className:"gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),i("common.export")]}),e.jsx(p,{variant:"outline",size:"sm",onClick:d,className:"gap-2 text-destructive hover:text-destructive hover:border-destructive/50",children:e.jsx(R,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 md:gap-4 mb-6",children:[e.jsx(k,{children:e.jsx(D,{className:"p-3 md:p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center text-primary shrink-0",children:e.jsx(Ge,{className:"h-4 w-4"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-muted-foreground text-xs font-medium",children:"File Size"}),e.jsx("h3",{className:"text-lg font-bold",children:"--"}),e.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[o," ",i("dialogues.nodes")]})]})]})})}),e.jsx(k,{children:e.jsx(D,{className:"p-3 md:p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-50 dark:bg-purple-900/20 flex items-center justify-center text-purple-600 dark:text-purple-400 shrink-0",children:e.jsx(as,{className:"h-4 w-4"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-muted-foreground text-xs font-medium",children:i("projects.modified")}),e.jsx("h3",{className:"text-lg font-bold truncate",children:Le(s.modifiedAt)}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Current User"})]})]})})}),e.jsx(k,{children:e.jsx(D,{className:"p-3 md:p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-50 dark:bg-orange-900/20 flex items-center justify-center text-orange-600 dark:text-orange-400 shrink-0",children:e.jsx(ds,{className:"h-4 w-4"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-muted-foreground text-xs font-medium",children:i("projects.created")}),e.jsx("h3",{className:"text-lg font-bold",children:ye(s.createdAt)}),e.jsx("p",{className:"text-[10px] text-muted-foreground",children:s.version?`v${s.version}`:"v1.0.0"})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-bold",children:i("dialogues.title")}),e.jsxs("button",{onClick:()=>x==null?void 0:x("dialogues"),className:"text-sm text-primary hover:text-blue-600 font-medium flex items-center gap-1 transition-colors",children:["View All ",e.jsx(Ue,{className:"h-4 w-4"})]})]}),e.jsx(k,{children:e.jsx(D,{className:"p-0",children:v.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(U,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i("dialogues.noDialogues")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"divide-y divide-border",children:v.map(m=>e.jsxs(oe,{to:"/projects/$projectId/dialogue/$dialogueId",params:{projectId:s.id,dialogueId:m.id},className:"p-4 flex items-center justify-between group hover:bg-accent transition-colors cursor-pointer hover:rounded-lg rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center text-blue-500",children:e.jsx(U,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:m.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[Le(m.modifiedAt)," â€¢ ",m.nodeCount||0," ",i("dialogues.nodes")]})]})]}),e.jsx("button",{className:"opacity-0 group-hover:opacity-100 p-2 rounded-lg bg-card shadow-sm border border-border text-primary hover:bg-primary hover:text-primary-foreground transition-all",children:e.jsx(W,{className:"h-4 w-4"})})]},m.id))}),e.jsx("div",{className:"bg-muted/50 px-4 py-3 border-t border-border text-center",children:e.jsxs("button",{type:"button",onClick:()=>x==null?void 0:x("dialogues"),className:"text-xs font-medium text-muted-foreground hover:text-primary transition-colors",children:["+ ",i("dialogues.createNew")]})})]})})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(k,{children:e.jsxs(D,{className:"p-6",children:[e.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider mb-4",children:"Project Metadata"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Project ID"}),e.jsxs("div",{className:"flex items-center justify-between bg-muted/50 p-2 rounded-lg border border-border",children:[e.jsxs("code",{className:"text-xs font-mono",children:[s.id.substring(0,12),"..."]}),e.jsx("button",{className:"text-muted-foreground hover:text-primary text-xs",children:"ðŸ“‹"})]})]}),e.jsxs("div",{className:"pt-2 border-t border-border",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs mb-2",children:[e.jsx("span",{className:"text-muted-foreground",children:i("dialogues.title")}),e.jsx("span",{className:"font-medium",children:l.length})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs mb-2",children:[e.jsx("span",{className:"text-muted-foreground",children:i("participants.title")}),e.jsx("span",{className:"font-medium",children:a.length})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs mb-2",children:[e.jsx("span",{className:"text-muted-foreground",children:i("categories.title")}),e.jsx("span",{className:"font-medium",children:r.length})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:i("decorators.title")}),e.jsx("span",{className:"font-medium",children:c.length})]})]})]})]})}),a.length>0&&e.jsx(k,{children:e.jsxs(D,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider",children:"Top Participants"}),e.jsx("button",{onClick:()=>x==null?void 0:x("participants"),className:"text-xs text-primary hover:underline",children:"Manage"})]}),e.jsxs("div",{className:"flex -space-x-2 overflow-hidden mb-3",children:[a.slice(0,4).map(m=>e.jsx("div",{className:"inline-block h-8 w-8 rounded-full ring-2 ring-card bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white text-xs font-bold",children:m.name.charAt(0).toUpperCase()},m.id)),a.length>4&&e.jsxs("div",{className:"h-8 w-8 rounded-full ring-2 ring-card bg-muted flex items-center justify-center text-xs font-medium text-muted-foreground",children:["+",a.length-4]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.length," ",a.length===1?"participant":"participants"," in this project."]})]})})]})]})]})}function fs({dialogue:s,projectId:l}){const{t:a}=C(),r=$e(),c=s.nodeCount||0;return e.jsx(oe,{to:"/projects/$projectId/dialogue/$dialogueId",params:{projectId:l,dialogueId:s.id},children:e.jsxs(k,{className:"group cursor-pointer hover:shadow-xl hover:-translate-y-1 transition-all h-full flex flex-col overflow-hidden rounded-lg",children:[e.jsxs("div",{className:"h-32 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 flex items-center justify-center relative overflow-hidden rounded-t-lg",children:[e.jsx("div",{className:"absolute inset-0 opacity-30 dark:opacity-20 bg-[radial-gradient(#9333ea_1px,transparent_1px)] [background-size:16px_16px]"}),e.jsx(U,{className:"h-12 w-12 text-purple-500 dark:text-purple-400 opacity-80 group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 relative z-10"}),e.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(p,{variant:"ghost",size:"icon",className:"h-7 w-7 rounded-full bg-background/90 backdrop-blur-sm",onClick:g=>{g.preventDefault(),g.stopPropagation(),r({to:"/projects/$projectId/dialogue/$dialogueId/settings",params:{projectId:l,dialogueId:s.id}})},children:e.jsx(xs,{className:"h-3.5 w-3.5"})})})]}),e.jsxs(D,{className:"p-4 flex-1 flex flex-col",children:[e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsx("h3",{className:"font-bold text-base group-hover:text-primary transition-colors line-clamp-1",children:s.name})}),s.description&&e.jsx("p",{className:"text-xs text-muted-foreground mb-3 line-clamp-2 leading-relaxed",children:s.description}),e.jsx("div",{className:"mt-auto pt-3 border-t flex items-center justify-center text-xs text-muted-foreground",children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(U,{className:"h-3.5 w-3.5 group-hover:text-purple-500 transition-colors"}),e.jsxs("span",{className:"font-medium",children:[c," ",c===1?"node":"nodes"]})]})})]})]})})}function Ns({open:s,onOpenChange:l,projectId:a}){const{t:r}=C(),c=$e(),{createDialogue:g,dialogues:N}=we(),[d,x]=f.useState({name:"",description:""}),[n,u]=f.useState({}),[i,j]=f.useState(!1),o=(h,b)=>{x(y=>({...y,[h]:b})),n[h]&&u(y=>({...y,[h]:null}))},v=()=>{const h={};return d.name.trim()?/\s/.test(d.name)&&(h.name="Name cannot contain whitespace"):h.name=r("validation.required"),u(h),Object.keys(h).length===0},m=async h=>{if(h.preventDefault(),!!v()){j(!0);try{const y=N.filter(E=>E.projectId===a).length===0,O=await g({projectId:a,name:d.name.trim(),description:d.description.trim()});y?rs():is(),x({name:"",description:""}),u({}),l(!1),setTimeout(()=>{c({to:"/projects/$projectId/dialogue/$dialogueId",params:{projectId:a,dialogueId:O.id}})},1e3)}catch(b){console.error("Error creating dialogue:",b),u({submit:r("common.error")})}finally{j(!1)}}},t=()=>{x({name:"",description:""}),u({}),l(!1)};return e.jsx(q,{open:s,onOpenChange:l,children:e.jsxs(V,{className:"sm:max-w-[500px]",children:[e.jsxs($,{children:[e.jsx(B,{children:r("dialogues.createNew")}),e.jsx(H,{children:r("dialogues.createFirst")})]}),e.jsxs("form",{onSubmit:m,className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(w,{htmlFor:"dialogue-name",children:[r("dialogues.dialogueName")," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(P,{id:"dialogue-name",placeholder:"Welcome Conversation",value:d.name,onChange:h=>o("name",h.target.value),className:n.name?"border-destructive":"",autoFocus:!0}),n.name&&e.jsx("p",{className:"text-xs text-destructive",children:n.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"dialogue-description",children:r("projects.projectDescription")}),e.jsx(Be,{id:"dialogue-description",placeholder:"A brief description of this dialogue...",value:d.description,onChange:h=>o("description",h.target.value),rows:3})]}),n.submit&&e.jsx("p",{className:"text-sm text-destructive",children:n.submit}),e.jsxs(J,{children:[e.jsx(p,{type:"button",variant:"outline",onClick:t,disabled:i,children:r("common.cancel")}),e.jsx(p,{type:"submit",disabled:i,children:r(i?"common.loading":"common.create")})]})]})]})})}function vs({projectId:s,dialogues:l=[]}){const{t:a}=C(),{importDialogue:r}=we(),[c,g]=f.useState(!1),[N,d]=f.useState(!1),x=f.useRef(null),n=Q(),u=async i=>{var o;const j=(o=i.target.files)==null?void 0:o[0];if(j){d(!0);try{await r(s,j)}catch(v){console.error("Failed to import dialogue:",v)}finally{d(!1),x.current&&(x.current.value="")}}};return e.jsxs("div",{children:[e.jsx(Ns,{open:c,onOpenChange:g,projectId:s}),e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold",children:[a("dialogues.title")," (",l.length,")"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{ref:x,type:"file",accept:".mnteadlg",onChange:u,className:"hidden"}),e.jsxs("div",{className:"md:hidden flex gap-2 flex-1",children:[e.jsxs(Y,{children:[e.jsx(X,{asChild:!0,children:e.jsx(p,{variant:"outline",size:"icon",className:"rounded-full",children:e.jsx(re,{className:"h-4 w-4"})})}),e.jsx(G,{align:"end",children:e.jsxs(F,{onClick:()=>{var i;return(i=x.current)==null?void 0:i.click()},disabled:N,children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),a("common.import")]})})]}),e.jsxs(p,{size:"icon",onClick:()=>g(!0),className:"gap-2 flex-1 rounded-full",children:[e.jsx(I,{className:"h-4 w-4"}),!n&&a("dialogues.createNew")]})]}),e.jsxs("div",{className:"hidden md:flex gap-2",children:[e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>{var i;return(i=x.current)==null?void 0:i.click()},disabled:N,className:"gap-2",children:[e.jsx(z,{className:"h-4 w-4"}),a("common.import")]}),e.jsxs(p,{size:"sm",onClick:()=>g(!0),className:"gap-2",children:[e.jsx(I,{className:"h-4 w-4"}),a("dialogues.createNew")]})]})]})]}),l.length===0?e.jsx(ms,{icon:U,title:a("dialogues.noDialogues"),description:a("dialogues.createFirst"),action:e.jsxs(p,{type:"button",onClick:()=>g(!0),children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),a("dialogues.createNew")]}),tips:["Dialogues are the backbone of your interactive narratives","Use nodes to create branching conversations","Connect nodes to create dialogue flow"]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(i=>e.jsx(fs,{dialogue:i,projectId:s},i.id))})]})}function bs({open:s,onOpenChange:l,projectId:a}){const{t:r}=C(),{createParticipant:c}=K(),{categories:g,loadCategories:N}=T(),[d,x]=f.useState(!1),[n,u]=f.useState({name:"",category:""}),[i,j]=f.useState({});f.useEffect(()=>{s&&a&&N(a)},[s,a,N]);const o=()=>{const m={};return n.name.trim()?/\s/.test(n.name)&&(m.name="Name cannot contain whitespace"):m.name=r("validation.required"),n.category||(m.category=r("validation.required")),j(m),Object.keys(m).length===0},v=async m=>{if(m.preventDefault(),!!o()){x(!0);try{await c({...n,projectId:a}),u({name:"",category:""}),j({}),l(!1)}catch(t){console.error("Failed to create participant:",t)}finally{x(!1)}}};return e.jsx(q,{open:s,onOpenChange:l,children:e.jsxs(V,{className:"sm:max-w-[425px]",children:[e.jsxs($,{children:[e.jsx(B,{children:r("participants.addNew")}),e.jsx(H,{children:r("participants.createDescription")})]}),e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(w,{htmlFor:"name",children:[r("participants.name")," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(P,{id:"name",value:n.name,onChange:m=>{u({...n,name:m.target.value}),i.name&&j({...i,name:null})},placeholder:r("participants.namePlaceholder"),className:i.name?"border-destructive":"",required:!0}),i.name&&e.jsx("p",{className:"text-xs text-destructive",children:i.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(w,{htmlFor:"category",children:[r("participants.category")," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs(ee,{value:n.category,onValueChange:m=>{u({...n,category:m}),i.category&&j({...i,category:null})},required:!0,children:[e.jsx(se,{className:i.category?"border-destructive":"",children:e.jsx(te,{placeholder:r("participants.categoryPlaceholder")})}),e.jsx(ae,{children:g.length===0?e.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:r("categories.noCategories")}):g.map(m=>e.jsx(L,{value:m.name,children:m.name},m.id))})]}),i.category&&e.jsx("p",{className:"text-xs text-destructive",children:i.category})]})]}),e.jsxs(J,{children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>l(!1),disabled:d,children:r("common.cancel")}),e.jsx(p,{type:"submit",disabled:d||!n.name.trim()||!n.category,children:r(d?"common.creating":"common.create")})]})]})]})})}function ys({open:s,onOpenChange:l,participant:a,projectId:r}){const{t:c}=C(),{updateParticipant:g}=K(),{categories:N,loadCategories:d}=T(),[x,n]=f.useState(!1),[u,i]=f.useState({name:"",category:""}),[j,o]=f.useState({});f.useEffect(()=>{s&&r&&d(r),s&&a&&i({name:a.name||"",category:a.category||""})},[s,r,a,d]),f.useEffect(()=>{s||o({})},[s]);const v=()=>{const t={};return u.name.trim()?/\s/.test(u.name)&&(t.name="Name cannot contain whitespace"):t.name=c("validation.required"),u.category||(t.category=c("validation.required")),o(t),Object.keys(t).length===0},m=async t=>{if(t.preventDefault(),!!v()){n(!0);try{await g(a.id,u),l(!1)}catch(h){console.error("Failed to update participant:",h)}finally{n(!1)}}};return e.jsx(q,{open:s,onOpenChange:l,children:e.jsxs(V,{className:"sm:max-w-[425px]",children:[e.jsxs($,{children:[e.jsxs(B,{children:[c("common.edit")," ",c("participants.title").slice(0,-1)]}),e.jsx(H,{children:"Update the participant's information"})]}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(w,{htmlFor:"name",children:[c("participants.name")," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(P,{id:"name",value:u.name,onChange:t=>{i({...u,name:t.target.value}),j.name&&o({...j,name:null})},placeholder:c("participants.namePlaceholder"),className:j.name?"border-destructive":"",required:!0}),j.name&&e.jsx("p",{className:"text-xs text-destructive",children:j.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(w,{htmlFor:"category",children:[c("participants.category")," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs(ee,{value:u.category,onValueChange:t=>{i({...u,category:t}),j.category&&o({...j,category:null})},required:!0,children:[e.jsx(se,{className:j.category?"border-destructive":"",children:e.jsx(te,{placeholder:c("participants.categoryPlaceholder")})}),e.jsx(ae,{children:N.length===0?e.jsx("div",{className:"py-6 text-center text-sm text-muted-foreground",children:c("categories.noCategories")}):N.map(t=>e.jsx(L,{value:t.name,children:t.name},t.id))})]}),j.category&&e.jsx("p",{className:"text-xs text-destructive",children:j.category})]})]}),e.jsxs(J,{children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>l(!1),disabled:x,children:c("common.cancel")}),e.jsx(p,{type:"submit",disabled:x||!u.name.trim()||!u.category,children:c(x?"common.saving":"common.save")})]})]})]})})}function ws({participant:s}){const{t:l}=C(),{deleteParticipant:a}=K(),[r,c]=f.useState(!1),[g,N]=f.useState(!1),[d,x]=f.useState(!1),n=async()=>{x(!0);try{await a(s.id),c(!1)}catch(u){console.error("Failed to delete participant:",u)}finally{x(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"group hover:shadow-md transition-all hover:border-primary/50",children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-bold text-lg",children:s.name.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-sm",children:s.name}),s.category&&e.jsx(Ce,{variant:"outline",className:"mt-1 text-xs",children:s.category})]})]}),e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(p,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary",onClick:()=>N(!0),children:e.jsx(W,{className:"h-4 w-4"})}),e.jsx(p,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>c(!0),children:e.jsx(R,{className:"h-4 w-4"})})]})]})})}),e.jsx(ys,{open:g,onOpenChange:N,participant:s,projectId:s.projectId}),e.jsx(me,{open:r,onOpenChange:c,children:e.jsxs(xe,{children:[e.jsxs(he,{children:[e.jsx(ue,{children:l("participants.deleteTitle")}),e.jsx(pe,{children:l("participants.deleteDescription",{name:s.name})})]}),e.jsxs(ge,{children:[e.jsx(je,{disabled:d,children:l("common.cancel")}),e.jsx(fe,{onClick:n,disabled:d,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:l(d?"common.deleting":"common.delete")})]})]})})]})}function Cs({projectId:s,participants:l=[]}){const{t:a}=C(),{importParticipants:r,exportParticipants:c}=K(),[g,N]=f.useState(!1),[d,x]=f.useState(!1),n=f.useRef(null),u=Q(),i=async()=>{try{const o=await c(s),v=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),m=URL.createObjectURL(v),t=document.createElement("a");t.href=m,t.download=`participants-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(m)}catch(o){console.error("Failed to export participants:",o)}},j=async o=>{var m;const v=(m=o.target.files)==null?void 0:m[0];if(v){x(!0);try{const t=await v.text(),h=JSON.parse(t);await r(s,Array.isArray(h)?h:[h])}catch(t){console.error("Failed to import participants:",t)}finally{x(!1),n.current&&(n.current.value="")}}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold",children:[a("participants.title")," (",l.length,")"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a("participants.description")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{ref:n,type:"file",accept:".json",onChange:j,className:"hidden"}),e.jsxs("div",{className:"md:hidden flex gap-2 flex-1",children:[e.jsxs(Y,{children:[e.jsx(X,{asChild:!0,children:e.jsx(p,{variant:"outline",size:"icon",className:"rounded-full",children:e.jsx(re,{className:"h-4 w-4"})})}),e.jsxs(G,{align:"end",children:[e.jsxs(F,{onClick:()=>{var o;return(o=n.current)==null?void 0:o.click()},disabled:d,children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),a("common.import")]}),e.jsxs(F,{onClick:i,disabled:l.length===0,children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),a("common.export")]})]})]}),e.jsxs(p,{size:"icon",onClick:()=>N(!0),className:"gap-2 flex-1 rounded-full",children:[e.jsx(I,{className:"h-4 w-4"}),!u&&a("participants.addNew")]})]}),e.jsxs("div",{className:"hidden md:flex gap-2",children:[e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>{var o;return(o=n.current)==null?void 0:o.click()},disabled:d,className:"gap-2",children:[e.jsx(z,{className:"h-4 w-4"}),a("common.import")]}),e.jsxs(p,{variant:"outline",size:"sm",onClick:i,disabled:l.length===0,className:"gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),a("common.export")]}),e.jsxs(p,{size:"sm",onClick:()=>N(!0),className:"gap-2",children:[e.jsx(I,{className:"h-4 w-4"}),a("participants.addNew")]})]})]})]}),l.length===0?e.jsx(k,{children:e.jsx(D,{className:"p-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mb-4",children:e.jsx(qe,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:a("participants.noParticipants")}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4 max-w-sm",children:a("participants.noParticipantsDescription")}),e.jsxs(p,{onClick:()=>N(!0),className:"gap-2",children:[e.jsx(I,{className:"h-4 w-4"}),a("participants.addNew")]})]})})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(o=>e.jsx(ws,{participant:o},o.id))}),e.jsx(bs,{open:g,onOpenChange:N,projectId:s})]})}function ks({open:s,onOpenChange:l,projectId:a}){const{t:r}=C(),{categories:c,createCategory:g,loadCategories:N}=T(),[d,x]=f.useState(!1),[n,u]=f.useState({name:"",parentCategoryId:null}),[i,j]=f.useState({});f.useEffect(()=>{s&&a&&N(a)},[s,a,N]),f.useEffect(()=>{s||(u({name:"",parentCategoryId:null}),j({}))},[s]);const o=()=>{const t={};return n.name.trim()?/\s/.test(n.name)&&(t.name="Name cannot contain whitespace"):t.name=r("validation.required"),j(t),Object.keys(t).length===0},v=async t=>{if(t.preventDefault(),!!o()){x(!0);try{await g({name:n.name,parentCategoryId:n.parentCategoryId||null,projectId:a}),u({name:"",parentCategoryId:null}),j({}),l(!1)}catch(h){console.error("Failed to create category:",h)}finally{x(!1)}}},m=t=>{const h=[];let b=c.find(y=>y.id===t);for(;b;)h.unshift(b.name),b=c.find(y=>y.id===b.parentCategoryId);return h.join(" > ")};return e.jsx(q,{open:s,onOpenChange:l,children:e.jsxs(V,{className:"sm:max-w-[425px]",children:[e.jsxs($,{children:[e.jsx(B,{children:r("categories.addNew")}),e.jsx(H,{children:r("categories.createDescription")})]}),e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(w,{htmlFor:"name",children:[r("categories.name")," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(P,{id:"name",value:n.name,onChange:t=>{u({...n,name:t.target.value}),i.name&&j({...i,name:null})},placeholder:r("categories.namePlaceholder"),className:i.name?"border-destructive":"",required:!0}),i.name&&e.jsx("p",{className:"text-xs text-destructive",children:i.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(w,{htmlFor:"parentCategory",children:r("categories.parentCategory")}),e.jsxs(ee,{value:n.parentCategoryId||"none",onValueChange:t=>u({...n,parentCategoryId:t==="none"?null:t}),children:[e.jsx(se,{children:e.jsx(te,{placeholder:r("categories.parentCategoryPlaceholder")})}),e.jsxs(ae,{children:[e.jsx(L,{value:"none",children:r("categories.noParent")}),c.map(t=>e.jsx(L,{value:t.id,children:m(t.id)},t.id))]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r("categories.parentCategoryHelp")})]})]}),e.jsxs(J,{children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>l(!1),disabled:d,children:r("common.cancel")}),e.jsx(p,{type:"submit",disabled:d||!n.name.trim(),children:r(d?"common.creating":"common.create")})]})]})]})})}function Ds({open:s,onOpenChange:l,category:a,projectId:r}){const{t:c}=C(),{categories:g,updateCategory:N,loadCategories:d}=T(),[x,n]=f.useState(!1),[u,i]=f.useState({name:"",parentCategoryId:null}),[j,o]=f.useState({});f.useEffect(()=>{s&&r&&d(r),s&&a&&i({name:a.name||"",parentCategoryId:a.parentCategoryId||null})},[s,r,a,d]),f.useEffect(()=>{s||o({})},[s]);const v=()=>{const h={};return u.name.trim()?/\s/.test(u.name)&&(h.name="Name cannot contain whitespace"):h.name=c("validation.required"),o(h),Object.keys(h).length===0},m=async h=>{if(h.preventDefault(),!!v()){n(!0);try{await N(a.id,{name:u.name,parentCategoryId:u.parentCategoryId||null}),l(!1)}catch(b){console.error("Failed to update category:",b)}finally{n(!1)}}},t=h=>{const b=[];let y=g.find(O=>O.id===h);for(;y;)b.unshift(y.name),y=g.find(O=>O.id===y.parentCategoryId);return b.join(" > ")};return e.jsx(q,{open:s,onOpenChange:l,children:e.jsxs(V,{className:"sm:max-w-[425px]",children:[e.jsxs($,{children:[e.jsxs(B,{children:[c("common.edit")," ",c("categories.title").slice(0,-1)]}),e.jsx(H,{children:"Update the category's information"})]}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(w,{htmlFor:"name",children:[c("categories.name")," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(P,{id:"name",value:u.name,onChange:h=>{i({...u,name:h.target.value}),j.name&&o({...j,name:null})},placeholder:c("categories.namePlaceholder"),className:j.name?"border-destructive":"",required:!0}),j.name&&e.jsx("p",{className:"text-xs text-destructive",children:j.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(w,{htmlFor:"parentCategory",children:c("categories.parentCategory")}),e.jsxs(ee,{value:u.parentCategoryId||"none",onValueChange:h=>i({...u,parentCategoryId:h==="none"?null:h}),children:[e.jsx(se,{children:e.jsx(te,{placeholder:c("categories.parentCategoryPlaceholder")})}),e.jsxs(ae,{children:[e.jsx(L,{value:"none",children:c("categories.noParent")}),g.filter(h=>h.id!==(a==null?void 0:a.id)).map(h=>e.jsx(L,{value:h.id,children:t(h.id)},h.id))]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:c("categories.parentCategoryHelp")})]})]}),e.jsxs(J,{children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>l(!1),disabled:x,children:c("common.cancel")}),e.jsx(p,{type:"submit",disabled:x||!u.name.trim(),children:c(x?"common.saving":"common.save")})]})]})]})})}function Ss({category:s}){const{t:l}=C(),{categories:a,deleteCategory:r}=T(),[c,g]=f.useState(!1),[N,d]=f.useState(!1),[x,n]=f.useState(!1),u=async()=>{n(!0);try{await r(s.id),g(!1)}catch(o){console.error("Failed to delete category:",o)}finally{n(!1)}},j=(()=>{if(!s.parentCategoryId)return null;const o=[];let v=s.parentCategoryId;for(;v;){const m=a.find(t=>t.id===v);if(!m)break;o.unshift(m.name),v=m.parentCategoryId}return o.length>0?o.join(" > "):null})();return e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"group hover:shadow-md transition-all hover:border-primary/50",children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-orange-500 to-pink-500 flex items-center justify-center text-white",children:e.jsx(He,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-sm",children:s.name}),j&&e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:j})]})]}),e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(p,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary",onClick:()=>d(!0),children:e.jsx(W,{className:"h-4 w-4"})}),e.jsx(p,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>g(!0),children:e.jsx(R,{className:"h-4 w-4"})})]})]})})}),e.jsx(Ds,{open:N,onOpenChange:d,category:s,projectId:s.projectId}),e.jsx(me,{open:c,onOpenChange:g,children:e.jsxs(xe,{children:[e.jsxs(he,{children:[e.jsx(ue,{children:l("categories.deleteTitle")}),e.jsx(pe,{children:l("categories.deleteDescription",{name:s.name})})]}),e.jsxs(ge,{children:[e.jsx(je,{disabled:x,children:l("common.cancel")}),e.jsx(fe,{onClick:u,disabled:x,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:l(x?"common.deleting":"common.delete")})]})]})})]})}function Is({projectId:s,categories:l=[]}){const{t:a}=C(),{importCategories:r,exportCategories:c}=T(),[g,N]=f.useState(!1),[d,x]=f.useState(!1),n=f.useRef(null),u=Q(),i=async()=>{try{const o=await c(s),v=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),m=URL.createObjectURL(v),t=document.createElement("a");t.href=m,t.download=`categories-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(m)}catch(o){console.error("Failed to export categories:",o)}},j=async o=>{var m;const v=(m=o.target.files)==null?void 0:m[0];if(v){x(!0);try{const t=await v.text(),h=JSON.parse(t);await r(s,Array.isArray(h)?h:[h])}catch(t){console.error("Failed to import categories:",t)}finally{x(!1),n.current&&(n.current.value="")}}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-top justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold",children:[a("categories.title")," (",l.length,")"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a("categories.description")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:n,type:"file",accept:".json",onChange:j,className:"hidden"}),e.jsxs("div",{className:"md:hidden flex gap-2 flex-1",children:[e.jsxs(Y,{children:[e.jsx(X,{asChild:!0,children:e.jsx(p,{variant:"outline",size:"icon",className:"rounded-full",children:e.jsx(re,{className:"h-4 w-4"})})}),e.jsxs(G,{align:"end",children:[e.jsxs(F,{onClick:()=>{var o;return(o=n.current)==null?void 0:o.click()},disabled:d,children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),a("common.import")]}),e.jsxs(F,{onClick:i,disabled:l.length===0,children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),a("common.export")]})]})]}),e.jsxs(p,{size:"icon",onClick:()=>N(!0),className:"gap-2 flex-1 rounded-full",children:[e.jsx(I,{className:"h-4 w-4"}),!u&&a("categories.addNew")]})]}),e.jsxs("div",{className:"hidden md:flex gap-2",children:[e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>{var o;return(o=n.current)==null?void 0:o.click()},disabled:d,className:"gap-2",children:[e.jsx(z,{className:"h-4 w-4"}),a("common.import")]}),e.jsxs(p,{variant:"outline",size:"sm",onClick:i,disabled:l.length===0,className:"gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),a("common.export")]}),e.jsxs(p,{size:"sm",onClick:()=>N(!0),className:"gap-2",children:[e.jsx(I,{className:"h-4 w-4"}),a("categories.addNew")]})]})]})]}),l.length===0?e.jsx(k,{children:e.jsx(D,{className:"p-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mb-4",children:e.jsx(He,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:a("categories.noCategories")}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4 max-w-sm",children:a("categories.noCategoriesDescription")}),e.jsxs(p,{onClick:()=>N(!0),className:"gap-2",children:[e.jsx(I,{className:"h-4 w-4"}),a("categories.addNew")]})]})})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(o=>e.jsx(Ss,{category:o},o.id))}),e.jsx(ks,{open:g,onOpenChange:N,projectId:s})]})}const Ps=[{value:"string",label:"String"},{value:"int",label:"Integer"},{value:"float",label:"Float"},{value:"bool",label:"Boolean"}];function Fs({open:s,onOpenChange:l,projectId:a}){const{t:r}=C(),{createDecorator:c}=de(),[g,N]=f.useState(!1),[d,x]=f.useState({name:"",type:"",properties:[]}),[n,u]=f.useState({}),i=()=>{x({...d,properties:[...d.properties,{name:"",type:"string",defaultValue:""}]})},j=(t,h,b)=>{const y=[...d.properties];y[t]={...y[t],[h]:b},x({...d,properties:y})},o=t=>{x({...d,properties:d.properties.filter((h,b)=>b!==t)})},v=()=>{const t={};return d.name.trim()?/\s/.test(d.name)&&(t.name="Name cannot contain whitespace"):t.name=r("validation.required"),u(t),Object.keys(t).length===0},m=async t=>{if(t.preventDefault(),!!v()){N(!0);try{await c({...d,projectId:a}),x({name:"",type:"",properties:[]}),u({}),l(!1)}catch(h){console.error("Failed to create decorator:",h)}finally{N(!1)}}};return e.jsx(q,{open:s,onOpenChange:l,children:e.jsxs(V,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[e.jsxs($,{children:[e.jsx(B,{children:r("decorators.addNew")}),e.jsx(H,{children:r("decorators.createDescription")})]}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsxs(w,{htmlFor:"name",children:[r("decorators.name")," ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsx(P,{id:"name",value:d.name,onChange:t=>{x({...d,name:t.target.value}),n.name&&u({...n,name:null})},placeholder:r("decorators.namePlaceholder"),className:n.name?"border-destructive":"",required:!0}),n.name&&e.jsx("p",{className:"text-xs text-destructive",children:n.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(w,{htmlFor:"type",children:r("decorators.type")}),e.jsx(P,{id:"type",value:d.type,onChange:t=>x({...d,type:t.target.value}),placeholder:r("decorators.typePlaceholder")})]}),e.jsxs("div",{className:"grid gap-3 border-t pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(w,{children:"Properties"}),e.jsxs(p,{type:"button",variant:"outline",size:"sm",onClick:i,className:"gap-2",children:[e.jsx(I,{className:"h-3 w-3"}),"Add Property"]})]}),d.properties.length===0&&e.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No properties defined. Add properties to customize this decorator."}),d.properties.map((t,h)=>e.jsxs("div",{className:"grid grid-cols-[1fr,120px,1fr,auto] gap-2 items-end bg-muted p-3 rounded-md",children:[e.jsxs("div",{className:"grid gap-1.5",children:[e.jsx(w,{className:"text-xs",children:"Property Name"}),e.jsx(P,{value:t.name,onChange:b=>j(h,"name",b.target.value),placeholder:"e.g., Speed",size:"sm",required:!0})]}),e.jsxs("div",{className:"grid gap-1.5",children:[e.jsx(w,{className:"text-xs",children:"Type"}),e.jsxs(ee,{value:t.type,onValueChange:b=>j(h,"type",b),children:[e.jsx(se,{children:e.jsx(te,{})}),e.jsx(ae,{children:Ps.map(b=>e.jsx(L,{value:b.value,children:b.label},b.value))})]})]}),e.jsxs("div",{className:"grid gap-1.5",children:[e.jsx(w,{className:"text-xs",children:"Default Value"}),e.jsx(P,{value:t.defaultValue,onChange:b=>j(h,"defaultValue",b.target.value),placeholder:t.type==="bool"?"true/false":t.type==="int"?"0":t.type==="float"?"0.0":"value",size:"sm"})]}),e.jsx(p,{type:"button",variant:"ghost",size:"icon",onClick:()=>o(h),className:"h-9 w-9",children:e.jsx(Ve,{className:"h-4 w-4"})})]},h))]})]}),e.jsxs(J,{children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>l(!1),disabled:g,children:r("common.cancel")}),e.jsx(p,{type:"submit",disabled:g||!d.name.trim(),children:r(g?"common.creating":"common.create")})]})]})]})})}function zs({decorator:s}){const{t:l}=C(),{deleteDecorator:a}=de(),[r,c]=f.useState(!1),[g,N]=f.useState(!1),d=async()=>{N(!0);try{await a(s.id),c(!1)}catch(x){console.error("Failed to delete decorator:",x)}finally{N(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"group hover:shadow-md transition-all hover:border-primary/50",children:e.jsx(D,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-purple-500 to-indigo-500 flex items-center justify-center text-white",children:e.jsx(Je,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-sm",children:s.name}),s.type&&e.jsx(Ce,{variant:"outline",className:"mt-1 text-xs",children:s.type})]})]}),e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(p,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-primary",children:e.jsx(W,{className:"h-4 w-4"})}),e.jsx(p,{variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>c(!0),children:e.jsx(R,{className:"h-4 w-4"})})]})]})})}),e.jsx(me,{open:r,onOpenChange:c,children:e.jsxs(xe,{children:[e.jsxs(he,{children:[e.jsx(ue,{children:l("decorators.deleteTitle")}),e.jsx(pe,{children:l("decorators.deleteDescription",{name:s.name})})]}),e.jsxs(ge,{children:[e.jsx(je,{disabled:g,children:l("common.cancel")}),e.jsx(fe,{onClick:d,disabled:g,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:l(g?"common.deleting":"common.delete")})]})]})})]})}function Es({projectId:s,decorators:l=[]}){const{t:a}=C(),{importDecorators:r,exportDecorators:c}=de(),[g,N]=f.useState(!1),[d,x]=f.useState(!1),n=f.useRef(null),u=Q(),i=async()=>{try{const o=await c(s),v=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),m=URL.createObjectURL(v),t=document.createElement("a");t.href=m,t.download=`decorators-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(m)}catch(o){console.error("Failed to export decorators:",o)}},j=async o=>{var m;const v=(m=o.target.files)==null?void 0:m[0];if(v){x(!0);try{const t=await v.text(),h=JSON.parse(t);await r(s,Array.isArray(h)?h:[h])}catch(t){console.error("Failed to import decorators:",t)}finally{x(!1),n.current&&(n.current.value="")}}};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-top justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold",children:[a("decorators.title")," (",l.length,")"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a("decorators.description")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:n,type:"file",accept:".json",onChange:j,className:"hidden"}),e.jsxs("div",{className:"md:hidden flex gap-2 flex-1",children:[e.jsxs(Y,{children:[e.jsx(X,{asChild:!0,children:e.jsx(p,{variant:"outline",size:"icon",className:"rounded-full",children:e.jsx(re,{className:"h-4 w-4"})})}),e.jsxs(G,{align:"end",children:[e.jsxs(F,{onClick:()=>{var o;return(o=n.current)==null?void 0:o.click()},disabled:d,children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),a("common.import")]}),e.jsxs(F,{onClick:i,disabled:l.length===0,children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),a("common.export")]})]})]}),e.jsxs(p,{size:"icon",onClick:()=>N(!0),className:"gap-2 flex-1 rounded-full",children:[e.jsx(I,{className:"h-4 w-4"}),!u&&a("decorators.addNew")]})]}),e.jsxs("div",{className:"hidden md:flex gap-2",children:[e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>{var o;return(o=n.current)==null?void 0:o.click()},disabled:d,className:"gap-2",children:[e.jsx(z,{className:"h-4 w-4"}),a("common.import")]}),e.jsxs(p,{variant:"outline",size:"sm",onClick:i,disabled:l.length===0,className:"gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),a("common.export")]}),e.jsxs(p,{size:"sm",onClick:()=>N(!0),className:"gap-2",children:[e.jsx(I,{className:"h-4 w-4"}),a("decorators.addNew")]})]})]})]}),l.length===0?e.jsx(k,{children:e.jsx(D,{className:"p-12",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mb-4",children:e.jsx(Je,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:a("decorators.noDecorators")}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4 max-w-sm",children:a("decorators.noDecoratorsDescription")}),e.jsxs(p,{onClick:()=>N(!0),className:"gap-2",children:[e.jsx(I,{className:"h-4 w-4"}),a("decorators.addNew")]})]})})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(o=>e.jsx(zs,{decorator:o},o.id))}),e.jsx(Fs,{open:g,onOpenChange:N,projectId:s})]})}function As({project:s,onExport:l,onDelete:a}){const{t:r}=C(),{updateProject:c}=_e(),[g,N]=f.useState(!1),[d,x]=f.useState(!1),[n,u]=f.useState(!1),[i,j]=f.useState({name:s.name||"",description:s.description||"",version:s.version||"1.0.0"}),o=async()=>{if(i.name.trim()){x(!0);try{await c(s.id,{name:i.name,description:i.description,version:i.version}),N(!1)}catch(t){console.error("Failed to update project:",t)}finally{x(!1)}}},v=()=>{j({name:s.name||"",description:s.description||"",version:s.version||"1.0.0"}),N(!1)},m=()=>{u(!1),a()};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:r("settings.title")}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r("settings.projectDescription")})]}),e.jsxs(k,{children:[e.jsx(ne,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(le,{className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"h-5 w-5 text-primary"}),r("settings.projectInfo")]}),e.jsx(ce,{className:"mt-1.5",children:r("settings.projectInfoDescription")})]}),!g&&e.jsx(p,{onClick:()=>N(!0),variant:"outline",children:r("common.edit")})]})}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(w,{htmlFor:"name",children:r("projects.projectName")}),e.jsx(P,{id:"name",value:i.name,onChange:t=>j({...i,name:t.target.value}),disabled:!g,placeholder:r("projects.projectName")})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(w,{htmlFor:"description",children:r("projects.projectDescription")}),e.jsx(Be,{id:"description",value:i.description,onChange:t=>j({...i,description:t.target.value}),disabled:!g,placeholder:r("settings.descriptionPlaceholder"),rows:3})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(w,{htmlFor:"version",children:r("settings.version")}),e.jsx(P,{id:"version",value:i.version,onChange:t=>j({...i,version:t.target.value}),disabled:!g,placeholder:"1.0.0"})]})]}),g&&e.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[e.jsx(p,{variant:"outline",onClick:v,disabled:d,children:r("common.cancel")}),e.jsxs(p,{onClick:o,disabled:d||!i.name.trim(),children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),r(d?"common.saving":"common.save")]})]})]})]}),e.jsxs(k,{children:[e.jsxs(ne,{children:[e.jsx(le,{children:r("settings.metadata")}),e.jsx(ce,{children:r("settings.metadataDescription")})]}),e.jsx(D,{children:e.jsxs("div",{className:"grid gap-3",children:[e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:r("settings.projectId")}),e.jsx("code",{className:"text-sm font-mono bg-muted px-2 py-1 rounded",children:s.id})]}),e.jsx(Te,{}),e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:r("projects.created")}),e.jsx("span",{className:"text-sm font-medium",children:ye(s.createdAt)})]}),e.jsx(Te,{}),e.jsxs("div",{className:"flex justify-between py-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:r("projects.modified")}),e.jsx("span",{className:"text-sm font-medium",children:ye(s.modifiedAt)})]})]})})]}),e.jsxs(k,{children:[e.jsxs(ne,{children:[e.jsx(le,{children:r("settings.dataManagement")}),e.jsx(ce,{children:r("settings.dataManagementDescription")})]}),e.jsx(D,{className:"space-y-3",children:e.jsxs(p,{onClick:l,variant:"outline",className:"w-full justify-start gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),r("settings.exportProject")]})})]}),e.jsxs(k,{className:"border-destructive",children:[e.jsxs(ne,{children:[e.jsxs(le,{className:"flex items-center gap-2 text-destructive",children:[e.jsx(es,{className:"h-5 w-5"}),r("settings.dangerZone")]}),e.jsx(ce,{children:r("settings.dangerZoneDescription")})]}),e.jsx(D,{children:e.jsxs(p,{variant:"destructive",onClick:()=>u(!0),className:"w-full justify-start gap-2",children:[e.jsx(R,{className:"h-4 w-4"}),r("projects.deleteProject")]})})]}),e.jsx(me,{open:n,onOpenChange:u,children:e.jsxs(xe,{children:[e.jsxs(he,{children:[e.jsx(ue,{children:r("projects.deleteProject")}),e.jsx(pe,{children:r("projects.deleteConfirm")})]}),e.jsxs(ge,{children:[e.jsx(je,{children:r("common.cancel")}),e.jsx(fe,{onClick:m,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:r("common.delete")})]})]})})]})}function Bs(){const{t:s}=C(),{theme:l,resolvedTheme:a,setTheme:r}=ss(),{projectId:c}=Oe.useParams(),g=Oe.useSearch(),{projects:N,loadProjects:d,deleteProject:x,exportProject:n,importProject:u}=_e(),{dialogues:i,loadDialogues:j}=we(),{participants:o,loadParticipants:v}=K(),{categories:m,loadCategories:t}=T(),{decorators:h,loadDecorators:b}=de(),[y,O]=f.useState(!0),[E,ke]=f.useState((g==null?void 0:g.section)||"overview"),[Ze,De]=f.useState(!1),[Se,ie]=f.useState(!1),Ne=f.useRef(null);f.useEffect(()=>{(async()=>{O(!0),await Promise.all([d(),j(),v(c),t(c),b(c)]),O(!1)})()},[d,j,v,t,b,c]);const _=N.find(S=>S.id===c),ve=i.filter(S=>S.projectId===c),be=o.filter(S=>S.projectId===c),Ie=m.filter(S=>S.projectId===c),Pe=h.filter(S=>S.projectId===c),Fe=async()=>{try{await n(c)}catch(S){console.error("Failed to export project:",S)}},We=async S=>{var Ae;const Ee=(Ae=S.target.files)==null?void 0:Ae[0];if(Ee){De(!0);try{await u(Ee),await loadData()}catch(Ye){console.error("Failed to import project:",Ye)}finally{De(!1),Ne.current&&(Ne.current.value="")}}},ze=async()=>{window.confirm(s("projects.deleteConfirm"))&&(await x(c),window.location.href="#/")};return y?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("p",{className:"text-muted-foreground",children:s("common.loading")})}):_?e.jsxs("div",{className:"min-h-screen flex flex-col",children:[e.jsxs("header",{className:"sticky top-0 z-10 bg-background/80 backdrop-blur-md border-b px-4 md:px-12 py-3 md:py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 md:gap-4 min-w-0 flex-1",children:[e.jsx(p,{variant:"ghost",size:"icon",onClick:()=>ie(!0),className:"lg:hidden rounded-full shrink-0",children:e.jsx(ns,{className:"h-5 w-5"})}),e.jsx(oe,{to:"/",children:e.jsx(Me,{content:"Back to projects",side:"bottom",children:e.jsx(p,{variant:"ghost",size:"icon",className:"rounded-full shrink-0",children:e.jsx(ls,{className:"h-5 w-5"})})})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h1",{className:"text-sm md:text-2xl font-bold tracking-tight truncate",children:_.name}),e.jsx("p",{className:"text-xs md:text-sm text-muted-foreground hidden sm:block",children:s("projects.projectDetails")})]})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[e.jsxs("div",{className:"hidden md:flex items-center text-xs font-medium text-muted-foreground bg-muted px-3 py-1.5 rounded-full",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 mr-2"}),s("dialogues.autoSaved")]}),e.jsx(Me,{content:a==="dark"?"Switch to light mode":"Switch to dark mode",side:"bottom",children:e.jsx(p,{variant:"outline",size:"icon",onClick:()=>r(a==="dark"?"light":"dark"),className:"rounded-full",children:a==="dark"?e.jsx(cs,{className:"h-4 w-4"}):e.jsx(os,{className:"h-4 w-4"})})})]})]}),Se&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>ie(!1)}),e.jsxs("div",{className:"flex-1 flex",children:[e.jsx(gs,{activeSection:E,onSectionChange:S=>{ke(S),ie(!1)},project:_,dialogueCount:ve.length,participantCount:be.length,isMobileOpen:Se,onMobileClose:()=>ie(!1)}),e.jsx("main",{className:"flex-1 bg-grid",children:e.jsxs("div",{className:"max-w-5xl mx-auto p-4 md:p-8 lg:p-12",children:[E==="overview"&&e.jsx(js,{project:_,dialogues:ve,participants:be,categories:Ie,decorators:Pe,onExport:Fe,onImport:We,onDelete:ze,onSectionChange:ke,fileInputRef:Ne,isImporting:Ze}),E==="dialogues"&&e.jsx(vs,{projectId:c,dialogues:ve}),E==="participants"&&e.jsx(Cs,{projectId:c,participants:be}),E==="categories"&&e.jsx(Is,{projectId:c,categories:Ie}),E==="decorators"&&e.jsx(Es,{projectId:c,decorators:Pe}),E==="settings"&&e.jsx(As,{project:_,onExport:Fe,onDelete:ze})]})})]})]}):e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:s("projects.notFound")}),e.jsx("p",{className:"text-muted-foreground",children:s("projects.notFoundDescription")})]})})}export{Bs as component};
