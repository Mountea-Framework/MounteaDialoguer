async function o(e){return new Promise((n,t)=>{const r=new FileReader;r.onloadend=()=>n(r.result),r.onerror=t,r.readAsDataURL(e)})}function s(e,n="audio/wav"){const t=atob(e.split(",")[1]),r=new Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);const b=new Uint8Array(r);return new Blob([b],{type:n})}async function c(e){if(!e||!e.blob)return null;const n=await o(e.blob);return{name:e.name,size:e.size||e.blob.size,base64:n,mimeType:e.blob.type}}function l(e){if(!e||!e.base64)return null;const n=s(e.base64,e.mimeType);return{name:e.name,size:e.size||n.size,blob:n,url:URL.createObjectURL(n)}}export{s as base64ToBlob,o as blobToBase64,c as prepareAudioForStorage,l as restoreAudioFromStorage};
